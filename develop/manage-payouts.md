---
title: Uitbetalingen beheren met behulp van de Uitbetalingsservice-API
description: Meer informatie over het gebruik van Partner Center Uitbetalingsservice-API voor toegang tot uitbetalingsgegevens
ms.date: 06/23/2021
ms.service: partner-dashboard
ms.subservice: partnercenter-sdk
author: jasongroce
ms.author: sabaja
ms.openlocfilehash: 014a1e6a14b538b7557d58710b9132dd9e37de21
ms.sourcegitcommit: 7e2d2805c4cdd61785b1cdcca99cad10d5683153
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/10/2021
ms.locfileid: "113592435"
---
# <a name="manage-payouts-using-the-payout-service-api"></a><span data-ttu-id="19fe9-103">Uitbetalingen beheren met behulp van de Uitbetalingsservice-API</span><span class="sxs-lookup"><span data-stu-id="19fe9-103">Manage payouts using the Payout Service API</span></span>

<span data-ttu-id="19fe9-104">In dit artikel wordt uitgelegd hoe u toegang hebt tot uitbetalingsgegevens via de Uitbetalingsservice-API's in plaats van de Partner Center gebruikersinterface.</span><span class="sxs-lookup"><span data-stu-id="19fe9-104">This article explains how you can access payout data through the Payout Service APIs instead of the Partner Center UI.</span></span> <span data-ttu-id="19fe9-105">Deze API's bieden een programmatische manier om de mogelijkheid te bieden van de [functie Gegevens](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) exporteren in Partner Center.</span><span class="sxs-lookup"><span data-stu-id="19fe9-105">These APIs provide a programmatic way to provide the capability of the [Export data](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) feature in Partner Center.</span></span>

## <a name="available-apis"></a><span data-ttu-id="19fe9-106">Beschikbare API's</span><span class="sxs-lookup"><span data-stu-id="19fe9-106">Available APIs</span></span>

<span data-ttu-id="19fe9-107">Bekijk alle beschikbare API's op [Uitbetalingen van partners.](/rest/api/partner-center/partner-payouts)</span><span class="sxs-lookup"><span data-stu-id="19fe9-107">See all available APIs at [Partner Payouts](/rest/api/partner-center/partner-payouts).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="19fe9-108">Vereisten</span><span class="sxs-lookup"><span data-stu-id="19fe9-108">Prerequisites</span></span>

- <span data-ttu-id="19fe9-109">[Registreer een toepassing met AAD/Microsoft Identity](/graph/auth-register-app-v2) in de Azure Portal en voeg de juiste eigenaren en rollen toe aan de toepassing.</span><span class="sxs-lookup"><span data-stu-id="19fe9-109">[Register an application with AAD/Microsoft Identity](/graph/auth-register-app-v2) in the Azure portal, and add appropriate owners and roles to the application.</span></span>
- <span data-ttu-id="19fe9-110">Installeer [Visual Studio](https://visualstudio.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="19fe9-110">Install [Visual Studio](https://visualstudio.microsoft.com/downloads/).</span></span>

## <a name="register-an-application-with-the-microsoft-identity-platform"></a><span data-ttu-id="19fe9-111">Een toepassing registreren bij het Microsoft Identity Platform</span><span class="sxs-lookup"><span data-stu-id="19fe9-111">Register an application with the Microsoft identity platform</span></span>

<span data-ttu-id="19fe9-112">De [Microsoft identity platform](/azure/active-directory/develop/v2-overview) helpt u bij het bouwen van toepassingen waarmee uw gebruikers en klanten zich kunnen aanmelden met hun Microsoft-identiteiten of sociale accounts en geautoriseerde toegang bieden tot uw eigen API's of Microsoft-API's zoals Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="19fe9-112">The [Microsoft identity platform](/azure/active-directory/develop/v2-overview) helps you build applications your users and customers can sign in to using their Microsoft identities or social accounts, and provide authorized access to your own APIs or Microsoft APIs like Microsoft Graph.</span></span>

1. <span data-ttu-id="19fe9-113">Meld u bij de [Azure-portal](https://portal.azure.com/) aan met een werk- of schoolaccount of een persoonlijk Microsoft-account.</span><span class="sxs-lookup"><span data-stu-id="19fe9-113">Sign in to the [Azure portal](https://portal.azure.com/) using either a work or school account or a personal Microsoft account.</span></span>

   <span data-ttu-id="19fe9-114">Als u via uw account toegang hebt tot meer dan één tenant, selecteert u uw account in de rechterbovenhoek en stelt u uw portalsessie in op de juiste Azure AD-tenant.</span><span class="sxs-lookup"><span data-stu-id="19fe9-114">If your account gives you access to more than one tenant, select your account in the upper right corner and set your portal session to the correct Azure AD tenant.</span></span>

2. <span data-ttu-id="19fe9-115">Selecteer in het linkernavigatiedeelvenster de Azure Active Directory service, selecteer **App-registraties** en vervolgens **Nieuwe registratie.**</span><span class="sxs-lookup"><span data-stu-id="19fe9-115">In the left navigation pane, select the Azure Active Directory service, then **App registrations**, then **New registration**.</span></span> <span data-ttu-id="19fe9-116">De **pagina Een toepassing registreren** wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="19fe9-116">The **Register an application** page appears.</span></span>

   :::image type="content" source="./images/manage-payouts/new-app-registration.png" alt-text="Schermopname van het scherm Een app registreren in de Azure Portal.":::

3. <span data-ttu-id="19fe9-118">Voer de registratiegegevens van uw toepassing in:</span><span class="sxs-lookup"><span data-stu-id="19fe9-118">Enter your application's registration information:</span></span>

   - <span data-ttu-id="19fe9-119">Naam: Voer een betekenisvolle toepassingsnaam in die wordt weergegeven voor gebruikers van de app.</span><span class="sxs-lookup"><span data-stu-id="19fe9-119">Name: Enter a meaningful application name that will be displayed to users of the app.</span></span>
   - <span data-ttu-id="19fe9-120">Ondersteunde accounttypen: selecteer welke accounts door uw toepassing worden ondersteund.</span><span class="sxs-lookup"><span data-stu-id="19fe9-120">Supported account types: Select which accounts your application will support.</span></span>

    | <span data-ttu-id="19fe9-121">**Ondersteunde accounttypen**</span><span class="sxs-lookup"><span data-stu-id="19fe9-121">**Supported account types**</span></span>                             | <span data-ttu-id="19fe9-122">**Beschrijving**</span><span class="sxs-lookup"><span data-stu-id="19fe9-122">**Description**</span></span>                                                                                            |
    |---------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="19fe9-123">Alleen accounts in deze organisatiemap</span><span class="sxs-lookup"><span data-stu-id="19fe9-123">Only accounts in this organizational directory</span></span>          | <span data-ttu-id="19fe9-124">Selecteer deze optie als u een LOB-toepassing (Line-Of-Business) bouwt.</span><span class="sxs-lookup"><span data-stu-id="19fe9-124">Select this option if you're building a line-of-business (LOB) application.</span></span> <span data-ttu-id="19fe9-125">Deze optie is niet beschikbaar als u de toepassing niet in een map registreert.</span><span class="sxs-lookup"><span data-stu-id="19fe9-125">This option is not available if you're not registering the application in a directory.</span></span> <span data-ttu-id="19fe9-126">Deze optie wordt alleen toegewezen aan Azure AD met één tenant.</span><span class="sxs-lookup"><span data-stu-id="19fe9-126">This option maps to Azure AD only single-tenant.</span></span>  <span data-ttu-id="19fe9-127">Deze optie is standaard tenzij u de app registreert buiten een map.</span><span class="sxs-lookup"><span data-stu-id="19fe9-127">This option is the default unless you're registering the app outside of a directory.</span></span> <span data-ttu-id="19fe9-128">In gevallen waarbij de app is geregistreerd buiten een map, is de standaardinstelling Azure AD met meerdere tenants en persoonlijke Microsoft-accounts.</span><span class="sxs-lookup"><span data-stu-id="19fe9-128">In cases where the app is registered outside of a directory, the default is Azure AD multi-tenant and personal Microsoft accounts.</span></span>             |
    | <span data-ttu-id="19fe9-129">Accounts in elke organisatiemap</span><span class="sxs-lookup"><span data-stu-id="19fe9-129">Accounts in any organizational directory</span></span>                | <span data-ttu-id="19fe9-130">Selecteer deze optie als u alle zakelijke klanten en onderwijsinstellingen wilt bereiken.</span><span class="sxs-lookup"><span data-stu-id="19fe9-130">Select this option if you would like to target all business and educational customers.</span></span>  <span data-ttu-id="19fe9-131">Deze optie wordt alleen toegewezen aan Azure AD met meerdere tenants.</span><span class="sxs-lookup"><span data-stu-id="19fe9-131">This option maps to an Azure AD only multi-tenant.</span></span> <span data-ttu-id="19fe9-132">Als u de app hebt geregistreerd als een Azure AD met één tenant, kunt u deze bijwerken naar Azure AD met meerdere tenants en later weer teruggaan naar één tenant op de blade Verificatie.</span><span class="sxs-lookup"><span data-stu-id="19fe9-132">If you registered the app as Azure AD only single-tenant, you can update it to be Azure AD multi-tenant and back to single-tenant through the Authentication blade.</span></span>                                                                                                                                                  |
    | <span data-ttu-id="19fe9-133">Accounts in elke organisatiemap en persoonlijke Microsoft-accounts</span><span class="sxs-lookup"><span data-stu-id="19fe9-133">Accounts in any organizational directory and personal Microsoft accounts</span></span> | <span data-ttu-id="19fe9-134">Selecteer deze optie om de breedste groep klanten te bereiken.</span><span class="sxs-lookup"><span data-stu-id="19fe9-134">Select this option to target the widest set of customers.</span></span> <span data-ttu-id="19fe9-135">Deze optie wordt toegewezen aan Azure AD met meerdere tenants en persoonlijke Microsoft-accounts.</span><span class="sxs-lookup"><span data-stu-id="19fe9-135">This option maps to Azure AD multi-tenant and personal Microsoft accounts.</span></span>  <span data-ttu-id="19fe9-136">Als u de app hebt geregistreerd als Azure AD-account met meerdere tenants en persoonlijke Microsoft-accounts, kunt u deze selectie niet wijzigen in de gebruikersinterface.</span><span class="sxs-lookup"><span data-stu-id="19fe9-136">If you registered the app as Azure AD multi-tenant and personal Microsoft accounts, you cannot change this selection in the UI.</span></span> <span data-ttu-id="19fe9-137">In plaats hiervan moet u de editor voor het toepassingsmanifest gebruiken om de ondersteunde accounttypen te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-137">Instead, you must use the application manifest editor to change the supported account types.</span></span>                                                                          |

   - <span data-ttu-id="19fe9-138">*(optioneel)* Omleidings-URI: selecteer het type app dat u bouwt, webclient of openbare client (mobiele & desktop) en voer vervolgens de omleidings-URI (of antwoord-URL) voor uw toepassing in.</span><span class="sxs-lookup"><span data-stu-id="19fe9-138">*(optional)* Redirect URI: Select the type of app you're building, Web or Public client (mobile & desktop), and then enter the redirect URI (or reply URL) for your application.</span></span> <span data-ttu-id="19fe9-139">(De omleidings-URL is waar het verificatie-antwoord wordt verzonden nadat de gebruiker is geverifieerd.)</span><span class="sxs-lookup"><span data-stu-id="19fe9-139">(The redirect URL is where the authentication response will be sent after the user authenticates.)</span></span> 

      <span data-ttu-id="19fe9-140">Geef voor webtoepassingen de basis-URL van de app op.</span><span class="sxs-lookup"><span data-stu-id="19fe9-140">For web applications, provide the base URL of your app.</span></span> <span data-ttu-id="19fe9-141">`http://localhost:31544` kan bijvoorbeeld de URL zijn van een web-app die op uw lokale machine wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="19fe9-141">For example, `http://localhost:31544` might be the URL for a web app running on your local machine.</span></span> <span data-ttu-id="19fe9-142">Gebruikers moeten deze URL gebruiken om zich bij een webclienttoepassing aan te melden.</span><span class="sxs-lookup"><span data-stu-id="19fe9-142">Users would use this URL to sign in to a web client application.</span></span>
      <span data-ttu-id="19fe9-143">Geef voor openbare clienttoepassingen de URI op die in Azure Active Directory wordt gebruikt om tokenantwoorden te retourneren.</span><span class="sxs-lookup"><span data-stu-id="19fe9-143">For public client applications, provide the URI used by Azure AD to return token responses.</span></span> <span data-ttu-id="19fe9-144">Voer een waarde in die specifiek is voor de toepassing, zoals `myapp://auth`.</span><span class="sxs-lookup"><span data-stu-id="19fe9-144">Enter a value specific to your application, such as `myapp://auth`.</span></span>

4. <span data-ttu-id="19fe9-145">Selecteer **Registreren**.</span><span class="sxs-lookup"><span data-stu-id="19fe9-145">Select **Register**.</span></span> <span data-ttu-id="19fe9-146">Azure AD wijst een unieke toepassings-id (client-id) toe aan uw toepassing en de overzichtspagina van de toepassing wordt geladen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-146">Azure AD assigns a unique application (client) ID to your application, and the application's overview page loads.</span></span>

   :::image type="content" source="./images/manage-payouts/register-an-application.png" alt-text="<alt-tekst>":::

5. <span data-ttu-id="19fe9-148">Als u mogelijkheden aan uw toepassing wilt toevoegen, kunt u andere configuratieopties selecteren, zoals huisstijl, certificaten en geheimen, API-machtigingen en meer.</span><span class="sxs-lookup"><span data-stu-id="19fe9-148">If you want to add capabilities to your application, you can select other configuration options including branding, certificates and secrets, API permissions, and more.</span></span>

## <a name="platform-specific-properties"></a><span data-ttu-id="19fe9-149">Platformspecifieke eigenschappen</span><span class="sxs-lookup"><span data-stu-id="19fe9-149">Platform-specific properties</span></span>

<span data-ttu-id="19fe9-150">In de volgende tabel ziet u de eigenschappen die u moet configureren en kopiëren voor verschillende soorten apps.</span><span class="sxs-lookup"><span data-stu-id="19fe9-150">The following table shows the properties that you need to configure and copy for different kinds of apps.</span></span> <span data-ttu-id="19fe9-151">**Toegewezen betekent** dat u de waarde moet gebruiken die is toegewezen door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="19fe9-151">**Assigned** means that you should use the value assigned by Azure AD.</span></span>

| <span data-ttu-id="19fe9-152">App-type</span><span class="sxs-lookup"><span data-stu-id="19fe9-152">App type</span></span>              | <span data-ttu-id="19fe9-153">Platform</span><span class="sxs-lookup"><span data-stu-id="19fe9-153">Platform</span></span> | <span data-ttu-id="19fe9-154">(Client-)id van de app</span><span class="sxs-lookup"><span data-stu-id="19fe9-154">Application (client) ID</span></span> | <span data-ttu-id="19fe9-155">Clientgeheim</span><span class="sxs-lookup"><span data-stu-id="19fe9-155">Client Secret</span></span> | <span data-ttu-id="19fe9-156">Omleidings-URI/URL</span><span class="sxs-lookup"><span data-stu-id="19fe9-156">Redirect URI/URL</span></span> | <span data-ttu-id="19fe9-157">Impliciete Flow</span><span class="sxs-lookup"><span data-stu-id="19fe9-157">Implicit Flow</span></span>                                                         |
|-----------------------|----------|-------------------------|---------------|------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="19fe9-158">Native/mobiel</span><span class="sxs-lookup"><span data-stu-id="19fe9-158">Native/Mobile</span></span>         | <span data-ttu-id="19fe9-159">Systeemeigen</span><span class="sxs-lookup"><span data-stu-id="19fe9-159">Native</span></span>   | <span data-ttu-id="19fe9-160">Toegewezen</span><span class="sxs-lookup"><span data-stu-id="19fe9-160">Assigned</span></span>                | <span data-ttu-id="19fe9-161">No</span><span class="sxs-lookup"><span data-stu-id="19fe9-161">No</span></span>            | <span data-ttu-id="19fe9-162">Toegewezen</span><span class="sxs-lookup"><span data-stu-id="19fe9-162">Assigned</span></span>         | <span data-ttu-id="19fe9-163">No</span><span class="sxs-lookup"><span data-stu-id="19fe9-163">No</span></span>                                                                    |
| <span data-ttu-id="19fe9-164">Web-app</span><span class="sxs-lookup"><span data-stu-id="19fe9-164">Web App</span></span>               | <span data-ttu-id="19fe9-165">Web</span><span class="sxs-lookup"><span data-stu-id="19fe9-165">Web</span></span>      | <span data-ttu-id="19fe9-166">Toegewezen</span><span class="sxs-lookup"><span data-stu-id="19fe9-166">Assigned</span></span>                | <span data-ttu-id="19fe9-167">Ja</span><span class="sxs-lookup"><span data-stu-id="19fe9-167">Yes</span></span>           | <span data-ttu-id="19fe9-168">Ja</span><span class="sxs-lookup"><span data-stu-id="19fe9-168">Yes</span></span>              | <span data-ttu-id="19fe9-169">Optionele Open ID Verbinding maken middleware gebruikt standaard hybride stroom (Ja)</span><span class="sxs-lookup"><span data-stu-id="19fe9-169">Optional Open ID Connect middleware uses hybrid flow by default (Yes)</span></span> |
| <span data-ttu-id="19fe9-170">App met één pagina (SPA)</span><span class="sxs-lookup"><span data-stu-id="19fe9-170">Single Page App (SPA)</span></span> | <span data-ttu-id="19fe9-171">Web</span><span class="sxs-lookup"><span data-stu-id="19fe9-171">Web</span></span>      | <span data-ttu-id="19fe9-172">Toegewezen</span><span class="sxs-lookup"><span data-stu-id="19fe9-172">Assigned</span></span>                | <span data-ttu-id="19fe9-173">Ja</span><span class="sxs-lookup"><span data-stu-id="19fe9-173">Yes</span></span>           | <span data-ttu-id="19fe9-174">Ja</span><span class="sxs-lookup"><span data-stu-id="19fe9-174">Yes</span></span>              | <span data-ttu-id="19fe9-175">Ja, SPA's gebruiken Open ID Verbinding maken impliciete Flow</span><span class="sxs-lookup"><span data-stu-id="19fe9-175">Yes SPAs use Open ID Connect implicit Flow</span></span>                            |
| <span data-ttu-id="19fe9-176">Service/Daemon</span><span class="sxs-lookup"><span data-stu-id="19fe9-176">Service/Daemon</span></span>        | <span data-ttu-id="19fe9-177">Web</span><span class="sxs-lookup"><span data-stu-id="19fe9-177">Web</span></span>      | <span data-ttu-id="19fe9-178">Toegewezen</span><span class="sxs-lookup"><span data-stu-id="19fe9-178">Assigned</span></span>                | <span data-ttu-id="19fe9-179">Ja</span><span class="sxs-lookup"><span data-stu-id="19fe9-179">Yes</span></span>           | <span data-ttu-id="19fe9-180">Ja</span><span class="sxs-lookup"><span data-stu-id="19fe9-180">Yes</span></span>              | <span data-ttu-id="19fe9-181">Nee</span><span class="sxs-lookup"><span data-stu-id="19fe9-181">No</span></span>                                                                    |

## <a name="create-a-service-principal"></a><span data-ttu-id="19fe9-182">Een service-principal maken</span><span class="sxs-lookup"><span data-stu-id="19fe9-182">Create a service principal</span></span>

<span data-ttu-id="19fe9-183">Als u toegang wilt krijgen tot resources in uw abonnement, moet u een rol toewijzen aan de toepassing.</span><span class="sxs-lookup"><span data-stu-id="19fe9-183">To access resources in your subscription, you must assign a role to the application.</span></span> <span data-ttu-id="19fe9-184">Zie Ingebouwde [Azure-rollen](/azure/role-based-access-control/built-in-roles)voor hulp bij het bepalen welke rol de juiste machtigingen voor de toepassing biedt.</span><span class="sxs-lookup"><span data-stu-id="19fe9-184">For help deciding which role offers the right permissions for the application, see [Azure built-in roles](/azure/role-based-access-control/built-in-roles).</span></span>

> [!NOTE]
> <span data-ttu-id="19fe9-185">U kunt het bereik instellen op het niveau van het abonnement, de resourcegroep of de resource.</span><span class="sxs-lookup"><span data-stu-id="19fe9-185">You can set the scope at the level of the subscription, resource group, or resource.</span></span> <span data-ttu-id="19fe9-186">Machtigingen worden overgenomen naar lagere bereikniveaus.</span><span class="sxs-lookup"><span data-stu-id="19fe9-186">Permissions are inherited to lower levels of scope.</span></span> <span data-ttu-id="19fe9-187">Als u bijvoorbeeld een toepassing toevoegt aan de rol Lezer voor een resourcegroep, kan deze de resourcegroep en alle resources die deze bevat lezen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-187">For example, adding an application to the Reader role for a resource group means it can read the resource group and any resources it contains.</span></span>

1. <span data-ttu-id="19fe9-188">Selecteer in Azure Portal het bereikniveau waar u de toepassing aan wilt toewijzen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-188">In the Azure portal, select the level of scope to assign the application to.</span></span> <span data-ttu-id="19fe9-189">Als u bijvoorbeeld een rol wilt toewijzen in het **abonnementsbereik,** zoekt en selecteert u Abonnementen of **selecteert** u Abonnementen op de startpagina.</span><span class="sxs-lookup"><span data-stu-id="19fe9-189">For example, to assign a role at the subscription scope, search for and select **Subscriptions**, or select **Subscriptions** on the home page.</span></span>

   :::image type="content" source="./images/manage-payouts/search-for-subscriptions.png" alt-text="Schermopname van de zoekopdracht in het scherm Abonnementen.":::

2. <span data-ttu-id="19fe9-191">Selecteer het abonnement waar u de toepassing aan wilt toewijzen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-191">Select the subscription to assign the application to.</span></span>

   :::image type="content" source="./images/manage-payouts/internal-testing-subscription.png" alt-text="Schermopname van het scherm Abonnementen met de vlag Intern testen ingesteld op true.":::

> [!NOTE]
> <span data-ttu-id="19fe9-193">Als u het abonnement dat u zoekt niet ziet, selecteert u het algemene abonnementsfilter en zorgt u ervoor dat het gezochte abonnement is geselecteerd voor de portal.</span><span class="sxs-lookup"><span data-stu-id="19fe9-193">If you don't see the subscription you're looking for, select the global subscriptions filter and ensure the subscription you want is selected for the portal.</span></span>

3. <span data-ttu-id="19fe9-194">Selecteer **Toegangsbeheer (IAM)** en selecteer vervolgens **Roltoewijzing toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="19fe9-194">Select **Access control (IAM)**, and then select **Add role assignment**.</span></span>

4. <span data-ttu-id="19fe9-195">Selecteer de rol die u aan de toepassing wilt toewijzen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-195">Select the role you wish to assign to the application.</span></span> <span data-ttu-id="19fe9-196">Als u bijvoorbeeld wilt toestaan dat de toepassing acties uitvoert zoals opnieuw opstarten, exemplaren starten en stoppen, selecteert u de rol Inzender.</span><span class="sxs-lookup"><span data-stu-id="19fe9-196">For example, to allow the application to execute actions like reboot, start and stop instances, select the Contributor role.</span></span> <span data-ttu-id="19fe9-197">Meer informatie over [beschikbare rollen.](/azure/role-based-access-control/built-in-roles)</span><span class="sxs-lookup"><span data-stu-id="19fe9-197">Read more about [available roles](/azure/role-based-access-control/built-in-roles).</span></span>

   <span data-ttu-id="19fe9-198">Standaard worden Azure AD-toepassingen niet weergegeven in de beschikbare opties.</span><span class="sxs-lookup"><span data-stu-id="19fe9-198">By default, Azure AD applications aren't displayed in the available options.</span></span> <span data-ttu-id="19fe9-199">Als u uw toepassing wilt zoeken, zoekt u op de naam en selecteert u deze in de resultaten.</span><span class="sxs-lookup"><span data-stu-id="19fe9-199">To find your application, search on the name and select it from the results.</span></span> <span data-ttu-id="19fe9-200">In de onderstaande schermopname `example-app` ziet u de AAD-app die u hebt geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="19fe9-200">In the below screenshot, `example-app` is the AAD app you registered.</span></span>

   :::image type="content" source="./images/manage-payouts/add-role-assignment.png" alt-text="Schermopname van de gebruikersinterface voor het toevoegen van een roltoewijzing voor een testtoepassing.":::

5. <span data-ttu-id="19fe9-202">Selecteer **Opslaan**.</span><span class="sxs-lookup"><span data-stu-id="19fe9-202">Select **Save**.</span></span> <span data-ttu-id="19fe9-203">Vervolgens ziet u uw toepassing in de lijst met gebruikers met een rol voor dat bereik.</span><span class="sxs-lookup"><span data-stu-id="19fe9-203">You can then see your application in the list of users with a role for that scope.</span></span>

   <span data-ttu-id="19fe9-204">U kunt uw service-principal gaan gebruiken om uw scripts of apps uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="19fe9-204">You can start using your service principal to run your scripts or apps.</span></span> <span data-ttu-id="19fe9-205">Als u de machtigingen van uw service-principal wilt beheren, bekijkt u de gebruikersstatus, controleert u machtigingen, bekijkt u aanmeldingsgegevens en [meer),](https://portal.azure.com)bekijkt u uw Bedrijfstoepassingen in de Azure Portal .</span><span class="sxs-lookup"><span data-stu-id="19fe9-205">To manage your service principal's permissions, see user consent status, review permissions, see sign-in information, and more), view your Enterprise applications in the [Azure portal](https://portal.azure.com).</span></span>

## <a name="set-up-api-permissions"></a><span data-ttu-id="19fe9-206">API-machtigingen instellen</span><span class="sxs-lookup"><span data-stu-id="19fe9-206">Set up API permissions</span></span>

<span data-ttu-id="19fe9-207">Deze sectie bevat instructies voor het instellen van de vereiste API-machtigingen.</span><span class="sxs-lookup"><span data-stu-id="19fe9-207">This section provides instruction on how to set up the required API permissions.</span></span> <span data-ttu-id="19fe9-208">Zie verificatie voor meer informatie Partner Center instellen van [API Partner-API machtigingen.](/partner/develop/api-authentication)</span><span class="sxs-lookup"><span data-stu-id="19fe9-208">For more information about setting up Partner Center API permissions, see [Partner API authentication](/partner/develop/api-authentication).</span></span>

<span data-ttu-id="19fe9-209">**Machtiging verlenen aan Graph API**</span><span class="sxs-lookup"><span data-stu-id="19fe9-209">**Grant permission to Graph API**</span></span>

1. <span data-ttu-id="19fe9-210">Open de [App-registraties](https://go.microsoft.com/fwlink/?linkid=2083908) in de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="19fe9-210">Open the [App registrations](https://go.microsoft.com/fwlink/?linkid=2083908) in the Azure portal.</span></span>

2. <span data-ttu-id="19fe9-211">Selecteer een toepassing of [maak een app](/azure/active-directory/develop/quickstart-register-app) als u er nog geen hebt.</span><span class="sxs-lookup"><span data-stu-id="19fe9-211">Select an application, or [create an app](/azure/active-directory/develop/quickstart-register-app) if you don't already have one.</span></span>

3. <span data-ttu-id="19fe9-212">Selecteer op de pagina Overzicht van de toepassing onder **Beheren** de optie **API-machtigingen** en vervolgens **Een machtiging toevoegen.**</span><span class="sxs-lookup"><span data-stu-id="19fe9-212">On the application's Overview page, under **Manage**, select **API Permissions**, then **Add a permission**.</span></span>

4. <span data-ttu-id="19fe9-213">Selecteer **Microsoft Graph** in de lijst met beschikbare API's.</span><span class="sxs-lookup"><span data-stu-id="19fe9-213">Select **Microsoft Graph** from the list of available APIs.</span></span>

5. <span data-ttu-id="19fe9-214">Selecteer **Gedelegeerde machtigingen en** voeg de vereiste machtigingen toe.</span><span class="sxs-lookup"><span data-stu-id="19fe9-214">Select **Delegated permissions** and add required permissions.</span></span> <span data-ttu-id="19fe9-215">Zie App-toegang configureren [voor meer informatie.](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)</span><span class="sxs-lookup"><span data-stu-id="19fe9-215">For more information, see [Configure app access](/azure/active-directory/develop/quickstart-configure-app-access-web-apis).</span></span>

   :::image type="content" source="./images/manage-payouts/graph-request-api-permissions.png" alt-text="Schermopname van het scherm met machtigingen voor aanvragen in Azure Portal met Microsoft Graph geselecteerd.":::

<span data-ttu-id="19fe9-217">**Toestemming voor API-toegang tot Partner Center API via AAD-app**</span><span class="sxs-lookup"><span data-stu-id="19fe9-217">**Consent to API access to Partner Center API via AAD app**</span></span>

6. <span data-ttu-id="19fe9-218">Selecteer voor uw toepassing **API-machtigingen** en selecteer vervolgens in het scherm API-machtigingen aanvragen de optie **Een** machtiging toevoegen en vervolgens **API's die mijn organisatie gebruikt.**</span><span class="sxs-lookup"><span data-stu-id="19fe9-218">For your application, select **API permissions**, then, from the Request API permissions screen, select **Add a permission**, then **APIs my organization uses**.</span></span>

7. <span data-ttu-id="19fe9-219">Zoek naar **Microsoft Partner (Microsoft Ontwikkelaarscentrum) API (4990cffe-04e8-4e8b-808a-1175604b879f)**.</span><span class="sxs-lookup"><span data-stu-id="19fe9-219">Search for **Microsoft Partner (Microsoft Dev Center) API (4990cffe-04e8-4e8b-808a-1175604b879f)**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Schermopname van het scherm API-machtigingen met Microsoft Partner geselecteerd.":::

8. <span data-ttu-id="19fe9-221">Stel gedelegeerde machtigingen in op **Partner Center.**</span><span class="sxs-lookup"><span data-stu-id="19fe9-221">Set the Delegated Permissions to **Partner Center**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Schermopname van de gedelegeerde machtigingen die zijn geselecteerd Partner Center in het scherm API-machtigingen aanvragen.":::

9. <span data-ttu-id="19fe9-223">Verleen **beheerders toestemming voor** de API's.</span><span class="sxs-lookup"><span data-stu-id="19fe9-223">Grant **Admin consent** for the APIs.</span></span>

   :::image type="content" source="./images/manage-payouts/api-permissions.png" alt-text="Schermopname van de schakelknop voor beheerders toestemming op het scherm API-machtigingen.":::

   <span data-ttu-id="19fe9-225">Controleer of Toestemming van beheerder is ingeschakeld in het scherm Toestemmingsstatus van beheerder.</span><span class="sxs-lookup"><span data-stu-id="19fe9-225">Verify that Admin consent is enabled in the Admin consent status screen.</span></span>

   :::image type="content" source="./images/manage-payouts/admin-consent-verification.png" alt-text="Schermopname van het scherm Met toestemming van beheerder":::

10. <span data-ttu-id="19fe9-227">Zorg ervoor **dat in** de sectie Verificatie de optie **Openbare clientstromen** toestaan is ingesteld op **Ja.**</span><span class="sxs-lookup"><span data-stu-id="19fe9-227">In the **Authentication** section, make sure the **Allow public client flows** option is set to **Yes**.</span></span>

    :::image type="content" source="./images/manage-payouts/allow-public-client-flows.png" alt-text="Schermopname van het scherm Verificatie met Openbare clientstromen toestaan ingesteld op Ja.":::

## <a name="run-the-sample-code-in-visual-studio"></a><span data-ttu-id="19fe9-229">Voer de voorbeeldcode uit in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="19fe9-229">Run the sample code in Visual Studio</span></span>

<span data-ttu-id="19fe9-230">Voorbeeldcode die laat zien hoe de API kan worden gebruikt voor betalings- en transactiegeschiedenis, vindt u in de [partnercentrum-uitbetaling-API's](https://github.com/microsoft/Partner-Center-Payout-APIs) GitHub-repo.</span><span class="sxs-lookup"><span data-stu-id="19fe9-230">Sample code showing how the API can be used for payment and transaction history be found in the [Partner-Center-Payout-APIs](https://github.com/microsoft/Partner-Center-Payout-APIs) GitHub repo.</span></span>

### <a name="sample-code-notes"></a><span data-ttu-id="19fe9-231">Opmerkingen bij voorbeeldcode</span><span class="sxs-lookup"><span data-stu-id="19fe9-231">Sample code notes</span></span>

- <span data-ttu-id="19fe9-232">Configuratie van clientgeheimen en certificaten zoals besproken in de sectie Verificatie: Twee opties van Een [service-principal maken in](/azure/active-directory/develop/howto-create-service-principal-portal) de Azure Portal is niet vereist.</span><span class="sxs-lookup"><span data-stu-id="19fe9-232">Configuration of Client secrets and Certificates as discussed in the Authentication: Two options section of [How to create a service principal in the Azure portal](/azure/active-directory/develop/howto-create-service-principal-portal) is not required.</span></span>
- <span data-ttu-id="19fe9-233">Accounts met meervoudige verificatie (MFA) worden momenteel niet ondersteund en veroorzaken een fout.</span><span class="sxs-lookup"><span data-stu-id="19fe9-233">Accounts with multifactor authentication (MFA) are not currently supported and will cause an error.</span></span>
- <span data-ttu-id="19fe9-234">Uitbetalings-API ondersteunt alleen referenties op basis van gebruiker/wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="19fe9-234">Payout API only supports user/password-based credentials.</span></span>

## <a name="next-steps"></a><span data-ttu-id="19fe9-235">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="19fe9-235">Next steps</span></span>

- [<span data-ttu-id="19fe9-236">Gebruik de portal voor het maken van een Azure AD-toepassing en service-principal die toegang hebben tot resources</span><span class="sxs-lookup"><span data-stu-id="19fe9-236">Use the portal to create an Azure AD application and service principal that can access resources</span></span>](/azure/active-directory/develop/howto-create-service-principal-portal)
- [<span data-ttu-id="19fe9-237">Een toepassing registreren bij het Microsoft Identity Platform</span><span class="sxs-lookup"><span data-stu-id="19fe9-237">Register an application with the Microsoft identity platform</span></span>](/graph/auth-register-app-v2)
- [<span data-ttu-id="19fe9-238">Een clienttoepassing configureren voor toegang tot een web-API</span><span class="sxs-lookup"><span data-stu-id="19fe9-238">Configure a client application to access a web API</span></span>](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)
